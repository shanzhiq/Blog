---
title: 位与基础知识
date: 2021-04-04 09:29:56
tags: csapp
---

<center>一、计算机系统漫游</center>

ISA（指令集架构）是硬件和软件之间的桥梁，而操作系统是用用程序和硬件之间的桥梁。

进程是对$处理器,IO,内存抽象。虚存是对主存和IO抽象，文件是对IO设备的抽象$

指令集架构描述的是每条机器指令的效果，微体系结构描述处理器如何实现。



### hello程序

shell先把字符读入寄存器，然后存放到内存。



操作系统两个功能：1.防止硬件被失控应用程序滥用 2.向应用程序提供简单一致机制控制低级硬件设备。（控制程序运行，提供接口）



### Amdahl

$S=\frac{1}{1-\alpha+\frac{\alpha}{k}},加速比$，等于各部分提升后比值



## 现代处理器

- 超线程
- 指令集并行（流水线）
- 超标量
- 单指令多数据 SIMD

<center>信息表示和处理</center>

long在64位下8字节，32位下4字节。指针也是如此

大多数数据类型都编码为有符号，除非由关键字unsigned，或者使用了特定的无符号声明。数据类型char例外，大多数编译器是视为有符号数，但是C标准不保证。

### 寻址

大端法

小端法

看书



### 比较

int和unsigned比较会转化为unsigned，但是unsigned char和int比较会先转成int.

## IEEE浮点表示

- 规格化：exp的位模式既不为0，也不全为1都是这类情况。
- 非规格化：阶码全0，这情况阶码$1-Bias$,尾数值M=f，也就是不包含隐含开头1，提供了**渐进下溢**属性，均匀分布0.0，有+0，-0
- 特殊值：阶码全1，当小数域全0，得到的值表示无穷。s=0正无穷，s=1,负无穷。阶码全1，frac！=0不是一个数，表示没有数值结果，比如0/0=NaN

除以2的幂次向上取整，需要加上$2^k-1$，如果数是正数，则无需采用截断处理。c语言采用的是向0取整

> &，|的结果是数，而&&,^,||的结果是bool值

### 舍入

向偶数舍入，也就是向最接近的值舍入,默认此方式，中间值向最低有效位为偶数舍入

> 向0舍入 向上舍入 向下舍入

$int/float \rightarrow double$ 无损失 

$double \rightarrow float/int$ 可能发生溢出或者舍入

$double/float \rightarrow int$ 可能向0截断

int->float 可能舍入

浮点数计算无结合律，但是符合x>b ,a+x>a+b，以及乘法的相应规律

## 编译器、汇编器、链接

严格来说，汇编器算是一种编译器，狭义的讲，编译是把代码文件翻译成汇编文件，会处理常量表达式的计算，以及语法分析和语义分析等功能，这样得到的式一个文本文件，每条语句都以文本格式描述汇编指令。广义的讲，编译可以包括预处理，编译，汇编、链接所有过程。

汇编，as，将.s文件翻译成机器指令，指令被打包在可重定位目标文件内。这个时候得到的是二进制文件。所以二进制补码是由编译器转换得到，问题不大，但是如果说是由汇编器得到的更精确。

链接，则处理多个程序的合并。